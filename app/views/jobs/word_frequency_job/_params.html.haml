.row
  .col-md-6
    = simple_form_for :job_params, url: dataset_tasks_path(dataset, class: 'WordFrequencyJob'), method: :post do |f|
      = f.error_notification

      = field_set_tag t('word_frequency_job.options_label') do
        = f.input :ngram_method, label: t('compute_word_frequencies.ngram_method'), collection: [[t('compute_word_frequencies.single_words'), :single], [t('compute_word_frequencies.n_grams'), :ngrams]], include_blank: false
        #ngram_controls{ style: 'display: none' }
          = f.input :ngrams, collection: 2..20, label: t('compute_word_frequencies.ngram_size'), include_blank: false, disabled: true
          = f.input :num_words, as: :integer, label: t('compute_word_frequencies.num_ngrams'), required: false, input_html: { value: 100 }, disabled: true
          = f.input :all, as: :boolean, label: t('compute_word_frequencies.all_ngrams'), required: false, disabled: true
          = f.input :inclusion_list, label: t('compute_word_frequencies.ngram_inclusion_list'), as: :text, required: false, disabled: true
          = f.input :exclusion_list, label: t('compute_word_frequencies.ngram_exclusion_list'), as: :text, required: false, disabled: true
        #single_controls
          = f.input :word_method, label: t('compute_word_frequencies.word_method'), collection: [[t('compute_word_frequencies.most_frequent'), :count], [t('compute_word_frequencies.all'), :all], [t('compute_word_frequencies.list'), :list]], include_blank: false
        #num_words_controls
          = f.input :num_words, as: :integer, label: t('compute_word_frequencies.num_words'), required: false, input_html: { value: 100 }
        #exclusion_controls
          = f.input :exclude_method, label: t('compute_word_frequencies.exclude_method'), collection: [[:none, t('compute_word_frequencies.none')], [:common, t('compute_word_frequencies.stop')], [:list, t('compute_word_frequencies.list')]], value_method: :first, label_method: :last, include_blank: false, required: false
        #exclude_common_controls{ style: 'display: none;' }
          = f.input :stop_list, label: t('compute_word_frequencies.stop_language'), collection: Documents::StopList.all.sort_by { |l| l.language }, value_method: :language, label_method: :display_language, include_blank: false, selected: 'en', disabled: true
        #exclude_list_controls{ style: 'display: none;' }
          = f.input :exclusion_list, label: t('compute_word_frequencies.exclusion_list'), as: :text, required: false, disabled: true
        #inclusion_list_controls{ style: 'display: none;' }
          = f.input :inclusion_list, label: t('compute_word_frequencies.inclusion_list'), as: :text, required: false, disabled: true
        = f.input :stemming, label: t('common.stemming.label'), collection: [[t('simple_form.no'), :no], [t('common.stemming.stem'), :stem], [t('common.stemming.lemma'), :lemma]], include_blank: false
        = f.input :block_method, label: t('compute_word_frequencies.block_method'), collection: [[:count, t('compute_word_frequencies.num_words_split')], [:blocks, t('compute_word_frequencies.num_blocks_split')]], value_method: :first, label_method: :last, include_blank: false
        #count_controls
          = f.input :block_size, label: t('compute_word_frequencies.block_size'), as: :integer, required: false, input_html: { value: 250 }
          = f.input :last_block, label: t('compute_word_frequencies.last_block'), collection: [[:big_last, t('compute_word_frequencies.big_last')], [:small_last, t('compute_word_frequencies.small_last')], [:truncate_last, t('compute_word_frequencies.truncate_last')], [:truncate_all, t('compute_word_frequencies.truncate_all')]], value_method: :first, label_method: :last, include_blank: false, required: false
        #blocks_controls{ style: 'display: none;' }
          = f.input :num_blocks, label: t('compute_word_frequencies.num_blocks_label'), as: :integer, required: false, input_html: { value: '10' }, disabled: true
        = f.input :split_across, label: t('compute_word_frequencies.split_across'), as: :boolean, required: false, input_html: { checked: true }

        = render partial: 'jobs/word_cloud/params', locals: { f: f }

        = f.button :submit
        = link_to(t('common.cancel'), dataset, class: 'btn btn-default')
